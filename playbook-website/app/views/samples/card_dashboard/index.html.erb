<%
  def sign(data)
    data.key?(:status) ? ( data[:status] == "positive" ? "+" : "-" ) : ""
  end
%>

<% partials_path = Rails.root.join("app", "views", "samples", "card_dashboard/rails", "_*.html.erb") %>

<% Dir.glob(partials_path).sort.each do |partial_file| %>
  <% partial_name = File.basename(partial_file, ".html.erb").sub(/^_/, "") %>
    <%= pb_rails("card", props: { padding: "none", border_none: true, shadow: "deeper",margin: "sm" }) do %>
        <%= pb_rails("flex", props: {vertical: "center",spacing: "between"}) do %>
          <%= pb_rails("title", props: { text: partial_name.titleize, tag: "h4", size: 4, padding: "sm" }) %>
          <%= pb_rails("circle_icon_button", props: {
            variant: "link",
            icon: "ellipsis-h"
          }) %>
        <% end %>
        <%= pb_rails("section_separator") %>
      <%= render "samples/card_dashboard/rails/#{partial_name}" %>
    <% end %>
  <%= render "samples/code_sample", code_path: "card_dashboard/rails/_#{partial_name}.html.erb", language: "erb"  %>
<% end %>

<style>
[class^=grid]{
  display: grid;
  gap: 1px;
  background-color: #e4e8f0; /* $border_light */
  grid-template: auto auto / auto auto;
}
.gridtwo{
  grid-template: repeat(2,auto) / repeat(4,1fr);
}
</style>
