<div class="samples_index">
  <%= pb_rails("background", props: { background_color: "light", padding: "xl" }) do %>
    <%= pb_rails("flex", props: { classname: "header-text", orientation: "column", horizontal: "center"}) do %>
        <div>
          <%= pb_rails("title", props: { margin_bottom: "lg", text: "Samples You'll Actually Use", tag: "h1", size: 1 }) %>
          <%= pb_rails("body", props: {
            text: "We created a collection of professionally designed, pre-built, fully responsive samples you can drop 
            into your projects effortlessly.  These samples showcase Playbook Design System's versatility and the power 
            of its kits.  Use these samples for inspiration, or as the foundation for that great app idea."
          }) %>
        </div>
    <% end %>
  <% end %>

  <%= pb_rails("background", props: { background_color: "white", padding: "xl" }) do %>
    <div class="main-content-wrapper">
      <%# Loop through each Sample Category in samples.yml %>
      <% SAMPLES.each_with_index do |category, i| %>

        <% category_title = category[0] %>
        <% category_pages = SAMPLES[category_title] %>

        <% if category_pages %>

          <% if i > 0 %>
            <%= pb_rails("section_separator", props: { margin_top: "xl" }) %>
          <% end %>

          <%= pb_rails("flex", props: { margin_bottom: "md", margin_top: i > 0 ? "xl" : "", vertical: "center" }) do %>
            <%= pb_rails("title", props: { text: category_title.titleize, tag: "h2", size: 2 }) %>
            <%= pb_rails("icon_value", props: {
              icon: "palette",
              margin_left: "xs",
              text: "#{category_pages.size} Designs"
            }) %>
          <% end %>

          <%= pb_rails("layout", props: { layout: "collection" }) do %>
            <%= pb_rails("layout/body", props: { classname: "sample-card-grid-override" }) do %>
              <% category_pages.each do |link| %>
                <a href=<%="/samples/#{link}"%>>
                  <%= pb_rails("card", props: { classname: "ui-sample-card", padding: "md" }) do %>
                    <%= pb_rails("flex", props: { classname: "flex-container", spacing: "between", vertical: "center" }) do %>
                      <%= pb_rails("title", props: {
                        id: 'kits-used',
                        text: link.titleize,
                        tag: "h4",
                        size: 4,
                        variant: "link"
                      }) %>
                      <%= pb_rails("icon_circle", props: {
                        icon: "angle-right",
                        size: "sm",
                        variant: "royal"
                      }) %>
                    <% end %>
                  <% end %>
                </a>
              <% end %>
            <% end %>
          <% end %>

        <% end %>
      <% end %>
    </div>
  <% end %>
</div>
