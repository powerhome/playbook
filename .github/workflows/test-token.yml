name: Test GitHub Token Access

on: [push]

jobs:
  check_access:
    runs-on: ubuntu-latest
    steps:
    - name: Check Branch Access
      uses: actions/github-script@v5
      with:
        github-token: ${{ secrets.GITHUB_TOKEN }}
        script: |
          github.rest.repos.getBranch({
            owner: 'powerhome',
            repo: 'nitro-web',
            branch: 'master'
          }).then(response => {
            console.log("Branch data:", response.data);
          }).catch(error => {
            console.error("Error accessing the branch:", error);
          });

