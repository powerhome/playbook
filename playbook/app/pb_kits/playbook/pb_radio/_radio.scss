@import "../tokens/colors";
@import "../tokens/spacing";
@import "../tokens/positioning";
@import "../pb_body/body";
@import "../tokens/transition";

[class^=pb_radio_kit] {
  display: inline-flex;
  cursor: pointer;

  .pb_radio_button {
    width: 22px;
    min-width: 22px;
    height: 22px;
    box-sizing: border-box;
    border-radius: 1000px;
    border: 2px solid $border_light;
    margin-right: $space_xs;
    transition: background $transition_default ease, box-shadow $transition_default ease, border-color $transition_default ease;
  }

  @media (hover:hover) {
    &:hover .pb_radio_button {
      background-color: $bg_light;
      border-color: $border_light;
    }
  }

  input {
    position: relative;
    width: 0;
    left: $offscreen;
    &:focus-visible {
      & ~ .pb_radio_button {
        box-shadow: 0px 0px 0px 2px $white, 0px 0px 0px 4px $primary;
      }
    }
    &:checked {
      & ~ .pb_radio_button {
        border: 6px solid $primary;
      }
      // &:disabled {
      //   cursor: not-allowed;
      //   border: 2px solid green;
      //   background-color: red;
      // }
    }
    &:disabled + .pb_radio_button {
      cursor: not-allowed;
      border: 2px solid $border-light;
      // red;
      background-color: #f4f4f6; 
      // without ^ this only see disabled background when hover but colors don't quite match
      // label {
      //   color: $text_lt_light;
      // }
      & ~ .pb_body_kit {
        color: $text_lt_light;
      }
    }
  }

  // .disabled {
  //   cursor: not-allowed;
  //   // border: 2px solid $border-light;
  //   border: 2px solid red;
  //   background-color: #f4f4f6; 
  //   & ~ .pb_body_kit {
  //     color: $text_lt_light;
  //   }
  // }

  &[class*=vertical] {
    flex-direction: column;
    align-items: center;
    .pb_radio_button {
      margin-right: 0px;
      margin-bottom: $space_xs;
    }
  }

  &.dark {
    .pb_radio_button {
      border-color: $border_dark;
    }
    input {
      &:focus-visible {
        & ~ .pb_radio_button {
          box-shadow: 0px 0px 0px 2px $bg_dark_card, 0px 0px 0px 4px $primary;
        }
      }
      &:checked {
        & ~ .pb_radio_button {
          border: 6px solid $primary;
        }
      }
      // &:disabled {
      //   border: 2px solid green;
      //   background-color: $neutral;
      // }
    }

    @media (hover:hover) {
      &:hover {
        .pb_radio_button {
          background-color: rgba($white,.10);
          border-color: $border_dark;
        }
      }
    }
    &.error {
      > .pb_radio_button {
        border-color: $error_dark;
      }
    }
  }
  &.error {
    > .pb_radio_button {
      border-color: $error;
    }
  }
}
