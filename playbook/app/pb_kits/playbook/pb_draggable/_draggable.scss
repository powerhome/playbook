@import "../tokens/colors";
@import "../tokens/opacity";

.pb_draggable_container {
  .pb_draggable_item {
    &:hover {
      cursor: grab;
    }

    &.is_dragging {
      position: relative;

      // Ghost variant - show the item at 50% opacity. Default behavior.
      &.drop_zone_ghost {
        opacity: $opacity_4;
      }

      // Outline variant
      &.drop_zone_outline {
        // Create a container for the outline
        position: relative;

        // Make content invisible
        & > * {
          opacity: 0;
        }

        // Add outline
        &::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          border: 2px dashed $neutral;
          border-radius: $border-radius-sm;
          box-sizing: border-box;
          z-index: 10;
          pointer-events: none;
        }

        // Apply color variants to the ::before element
        &.drop_zone_color_primary::before { border-color: $primary; }
        &.drop_zone_color_secondary::before { border-color: $secondary; }
        &.drop_zone_color_tertiary::before { border-color: $tertiary; }
        &.drop_zone_color_success::before { border-color: $success; }
        &.drop_zone_color_warning::before { border-color: $warning; }
        &.drop_zone_color_error::before { border-color: $error; }
        &.drop_zone_color_info::before { border-color: $info; }
        &.drop_zone_color_royal::before { border-color: $royal; }
        &.drop_zone_color_purple::before { border-color: $purple; }
        &.drop_zone_color_teal::before { border-color: $teal; }
        &.drop_zone_color_red::before { border-color: $red; }
        &.drop_zone_color_yellow::before { border-color: $yellow; }
        &.drop_zone_color_green::before { border-color: $green; }
        &.drop_zone_color_orange::before { border-color: $orange; }
      }

      // Shadow variant
      &.drop_zone_shadow {
        // Create a container for the shadow
        position: relative;

        // Make content invisible
        & > * {
          opacity: 0;
        }

        // Add shadow background
        &::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: rgba($neutral, $opacity_5);
          border-radius: $border-radius-sm;
          z-index: 10;
          pointer-events: none;
        }

        // Apply rgba color variants to the ::before element
        &.drop_zone_color_primary::before { background-color: rgba($primary, $opacity_5); }
        &.drop_zone_color_secondary::before { background-color: rgba($secondary, $opacity_5); }
        &.drop_zone_color_tertiary::before { background-color: rgba($tertiary, $opacity_5); }
        &.drop_zone_color_success::before { background-color: rgba($success, $opacity_5); }
        &.drop_zone_color_warning::before { background-color: rgba($warning, $opacity_5); }
        &.drop_zone_color_error::before { background-color: rgba($error, $opacity_5); }
        &.drop_zone_color_info::before { background-color: rgba($info, $opacity_5); }
        &.drop_zone_color_royal::before { background-color: rgba($royal, $opacity_5); }
        &.drop_zone_color_purple::before { background-color: rgba($purple, $opacity_5); }
        &.drop_zone_color_teal::before { background-color: rgba($teal, $opacity_5); }
        &.drop_zone_color_red::before { background-color: rgba($red, $opacity_5); }
        &.drop_zone_color_yellow::before { background-color: rgba($yellow, $opacity_5); }
        &.drop_zone_color_green::before { background-color: rgba($green, $opacity_5); }
        &.drop_zone_color_orange::before { background-color: rgba($orange, $opacity_5); }
      }

      // Line variant
      &.drop_zone_line {
        // Hide the original content to show the line
        & > * {
          opacity: 0;
        }

        // Style for horizontal line (default)
        &::before {
          content: '';
          position: absolute;
          left: 0;
          top: 0;
          width: 4px;
          height: 100%;
          background-color: $neutral;
          border-radius: 1000px;
          z-index: 10;
          pointer-events: none;
        }

        // Apply color variants
        &.drop_zone_color_primary::before { background-color: $primary; }
        &.drop_zone_color_secondary::before { background-color: $secondary; }
        &.drop_zone_color_tertiary::before { background-color: $tertiary; }
        &.drop_zone_color_success::before { background-color: $success; }
        &.drop_zone_color_warning::before { background-color: $warning; }
        &.drop_zone_color_error::before { background-color: $error; }
        &.drop_zone_color_info::before { background-color: $info; }
        &.drop_zone_color_royal::before { background-color: $royal; }
        &.drop_zone_color_purple::before { background-color: $purple; }
        &.drop_zone_color_teal::before { background-color: $teal; }
        &.drop_zone_color_red::before { background-color: $red; }
        &.drop_zone_color_yellow::before { background-color: $yellow; }
        &.drop_zone_color_green::before { background-color: $green; }
        &.drop_zone_color_orange::before { background-color: $orange; }
      }
    }
  }
}

// Support for vertical layouts (horizontal line)
.pb_draggable_container.vertical {
  .pb_draggable_item {
    &.is_dragging {
      // Line variant for vertical layouts (horizontal line)
      &.drop_zone_line {
        &::before {
          width: 100%;
          height: 4px;
          left: 0;
          top: 0;
        }
      }
    }
  }
}