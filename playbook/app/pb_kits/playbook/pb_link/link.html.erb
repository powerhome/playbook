<% link_content = proc do %>
  <% if object.icon.present? %>
    <%= pb_rails("icon", props: { icon: object.icon, fixed_width: true, size: "xs", margin_right: "xxs" }) %>
  <% end %>
  <%= object.content %>
  <% if object.icon_right.present? %>
    <%= pb_rails("icon", props: { icon: object.icon_right, fixed_width: true, size: "xs", margin_left: "xxs" }) %>
  <% end %>
<% end %>

<% if object.tag == "a" %>
  <%= pb_content_tag(object.tag,
                  object.tag == "a" ? { href: object.href } : object.href_options) do %>
    <%= link_content.call %>
  <% end %>
<% else %>
  <%= pb_content_tag(:a, { href: object.href }) do %>
    <%= content_tag(object.tag) do %>
      <%= link_content.call %>
    <% end %>
  <% end %>
<% end %>
