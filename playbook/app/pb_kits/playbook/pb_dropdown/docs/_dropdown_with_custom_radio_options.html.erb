<%
  options = [
    { label: "Item 1", value: "item-1", id: "1" },
    { label: "Item 2", value: "item-2", id: "2" },
    { label: "Item 3", value: "item-3", id: "3" }
  ]

  selected_value = params[:selected_value]
%>

<%= pb_rails("dropdown", props: { label: "Choose Item", options: options }) do %>
  <%= pb_rails("dropdown/dropdown_trigger") %>
  <%= pb_rails("dropdown/dropdown_container") do %>
    <% options.each do |option| %>
      <% checked = (option[:value] == selected_value) %>
      <%= pb_rails("dropdown/dropdown_option", props: { option: option }) do %>
        <%= pb_rails("flex", props: { align: "center" }) do %>
          <%= pb_rails("radio", props: {
            text: option[:label],
            name: "dropdown_radio",
            value: option[:value],
            checked: checked,
          }) %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
