<%= pb_rails("button", props: { text: "Open Dialog", data: {"open-dialog": "dialog-loading"} }) %>

<%= pb_rails("dialog", props: { 
    id:"dialog-loading", 
    size: "sm", 
    title: "Loading Exmaple", 
    text: "Make a 3 second request?", 
    cancel_button: "Cancel Button", 
    confirm_button: "Okay", 
    confirm_button_id: "confirm-button-loading",
}) %>

<script>
  document.getElementById("confirm-button-loading").addEventListener("click", function() {
    let okayLoadingButton = document.getElementById("confirm-button-loading");
    let currentClass = okayLoadingButton.className;
    let newClass = currentClass.replace("_enabled", "_disabled_loading");
    okayLoadingButton.className = newClass;
    setTimeout(() => {
      okayLoadingButton.className = currentClass;
    }, 3000);
  });
</script>
