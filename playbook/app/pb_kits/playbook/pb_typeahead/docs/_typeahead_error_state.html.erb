<%
  options = [
    { label: 'Windows', value: '#FFA500' },
    { label: 'Siding', value: '#FF0000' },
    { label: 'Doors', value: '#00FF00' },
    { label: 'Roofs', value: '#0000FF' },
  ]

%>

<%= pb_rails("typeahead", props: { id: "typeahead-error-example", options: options, error: "Please make a valid selection", label: "Products", name: :foo, is_multi: false }) %>

<!-- This section is an example of the available JavaScript event hooks -->
<%= javascript_tag defer: "defer" do %>
  document.addEventListener("pb-typeahead-kit-typeahead-error-example-result-option-select", function(event) {
    console.log('Option selected')
    console.dir(event.detail)
    const errorCaption = document.querySelector(".pb_caption_kit_xs")
    const errorStyle = document.querySelector("#typeahead-error-example").querySelector(".text_input")
    
    errorStyle.style.borderColor = "#E4E8F0"
    errorCaption.style.display = "none"
  })
<% end %>
