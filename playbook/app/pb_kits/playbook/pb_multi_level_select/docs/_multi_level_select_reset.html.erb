<% treeData = [{
    label: "Power Home Remodeling",
    value: "Power Home Remodeling",
    id: "100",
    expanded: true,
    children: [
      {
        label: "People",
        value: "People",
        id: "101",
        expanded: true,
        children: [
          {
            label: "Talent Acquisition",
            value: "Talent Acquisition",
            id: "102",
          },
          {
            label: "Business Affairs",
            value: "Business Affairs",
            id: "103",
            children: [
              {
                label: "Initiatives",
                value: "Initiatives",
                id: "104",
              },
              {
                label: "Learning & Development",
                value: "Learning & Development",
                id: "105",
              },
            ],
          },
          {
            label: "People Experience",
            value: "People Experience",
            id: "106",
          },
        ],
      },
      {
        label: "Contact Center",
        value: "Contact Center",
        id: "107",
        children: [
          {
            label: "Appointment Management",
            value: "Appointment Management",
            id: "108",
          },
          {
            label: "Customer Service",
            value: "Customer Service",
            id: "109",
          },
          {
            label: "Energy",
            value: "Energy",
            id: "110",
          },
        ],
      },
    ],
}] %>

<%= pb_rails("multi_level_select", props: {
    id: "multi-level-select-reset-example",
    name: "my_array",
    tree_data: treeData,
    return_all_selected: true
}) %>

<%= pb_rails("button", props: { text: "Reset", margin_top: "lg", id:"multilevelselect-reset-button" }) %>


<script>
  window.addEventListener('DOMContentLoaded', () => {
    const exampleResetButton = document.querySelector("#multilevelselect-reset-button");

    exampleResetButton.addEventListener("click", () => {
        clearMultiLevelSelectById('multi-level-select-reset-example');
      });
    function clearMultiLevelSelectById(id) {
      const clearFunction = window[`clearMultiLevelSelect_${id}`];
      if (clearFunction) {
        clearFunction();
      } else {
        console.warn(`No clear function found for MultiLevelSelect with id: ${id}`);
      }
    }
  })
</script>