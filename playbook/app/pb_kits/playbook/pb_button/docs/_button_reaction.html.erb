<%= pb_rails("button", props: { count: 153, highlight: false, icon: "&#127881;", classname: "count", id: "reaction-button-highlight", variant: "reaction" }) %>
<%= pb_rails("button", props: { count: 5, icon: "😍", variant: "reaction", margin_left: "lg" }) %>
<%= pb_rails("button", props: { variant: "reaction", margin_left: "lg" }) %>
<%= pb_rails("button", props: { icon: "user", variant: "reaction", margin_left: "lg" }) %>


<script>
    function renderButtonReaction() {

        let highlightActive = false;

        function toggleHighlight() {
        let reactionCount = 153;
        console.log("toggleHighlight", highlightActive)
        highlightActive = !highlightActive;
        const innerCountElement = document.querySelector(".count .pb_caption_kit_xs.pl_xxs")
        const firstButton = document.getElementById("reaction-button-highlight")
        firstButton.classList.add(highlightActive && "active")
        firstButton.classList.remove(!highlightActive && "active")
        innerCountElement.innerHTML = highlightActive ? reactionCount + 1 : reactionCount;
        console.log("element", innerCountElement)
        }
        
        const button1 = document.getElementById("reaction-button-highlight")
        button1.addEventListener("click", toggleHighlight);

    }
    renderButtonReaction();
</script>

