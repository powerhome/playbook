<% if object.with_filter_variant? %>
  <%= pb_rails("title", props: {
    padding_left: { xs: "sm", sm: "sm", md: "xl", lg: "xl", xl: "xl", default: "xl" },
    padding_y: "md",
    size: 3,
    text: object.title
  }) if object.title.present? %>
  <%= pb_rails("card", props: {
    margin_x: { xs: "sm", sm: "sm", md: "xl", lg: "xl", xl: "xl", default: "xl" },
    padding: "none"
  }) do %>
    <%= pb_rails("flex", props: {
      align: "stretch",
      flex_direction: "column",
      gap: "none"
    }) do %>
      <% if object.filter_content.present? %>
        <%
          default_filter_props = {
            background: false,
            max_height: "50vh",
            min_width: "xs",
            popover_props: { width: "350px" },
            template: 'single'
          }
          merged_filter_props = default_filter_props.merge(object.filter_props)
        %>
        <%= pb_rails("filter", props: merged_filter_props) do %>
          <%= object.filter_content %>
        <% end %>
      <% end %>
      <%= pb_rails("section_separator") if object.filter_content.present? %>
      <% if object.tag == "table" %>
        <%= pb_content_tag(:table) do %>
          <%= content.presence %>
        <% end %>
      <% else %>
        <%= pb_content_tag do %>
          <%= content.presence %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
<% else %>
  <% if object.responsive_classname %>
    <% responsive_class = object.responsive_classname %>
  <% else %>
    <% responsive_class = nil %>
  <% end %>

  <%= content_tag(:div, class: responsive_class, 'data-pb-table-wrapper' => true) do %>
    <% if object.tag == "table" %>
      <%= pb_content_tag(:table) do %>
        <%= content.presence %>
      <% end %>
    <% else %>
      <%= pb_content_tag do %>
        <%= content.presence %>
      <% end %>
    <% end %>
  <% end %>
<% end %>