<% checkboxes = [
  { name: 'Coffee', id: 'coffee', checked: false },
  { name: 'Ice Cream', id: 'ice-cream', checked: false },
  { name: 'Chocolate', id: 'chocolate', checked: true }
] %>

<%= pb_rails("flex", props: { justify: "end", margin_bottom: "sm" }) do %>
    <%= pb_rails("flex", props: { justify: "end", margin_bottom: "sm" }) do %>
        <%= pb_rails("button", props: { text: "Delete", id: "delete-button" }) %>
    <% end %>
<% end %>

<%= pb_rails("table", props: { size: "sm" }) do %>
    <%= pb_rails("table/table_head") do %>
        <%= pb_rails("table/table_row") do %>
            <%= pb_rails("table/table_header") do %>
                <%= pb_rails("checkbox", props: {
                    checked: true,
                    value: "checkbox-value",
                    name: "main-checkbox-selectable",
                    indeterminate_main: true,
                    id: "checkbox-selectable"
                }) %>
            <% end %>
            <%= pb_rails("table/table_header", props: { text: "Column 1" }) %>
            <%= pb_rails("table/table_header", props: { text: "Column 2" }) %>
            <%= pb_rails("table/table_header", props: { text: "Column 3" }) %>
            <%= pb_rails("table/table_header", props: { text: "Column 4" }) %>
            <%= pb_rails("table/table_header", props: { text: "Column 5" }) %>
        <% end %>
    <% end %>
    <%= pb_rails("table/table_body") do %>
        <% checkboxes.each_with_index do |checkbox, index| %>
            <%= pb_rails("table/table_row") do %>
                <%= pb_rails("table/table_cell") do %>
                    <%= pb_rails("checkbox", props: { checked: checkbox[:checked], id: "#{checkbox[:id]}-selectable-checkbox", name: "#{checkbox[:id]}-selectable-checkbox", on_change: "updateCheckboxes(#{index})", value: "check-box value", indeterminate_parent: "checkbox-selectable" }) %>
                <% end %>
                <%= pb_rails("table/table_cell") do %>
                    <%= pb_rails("image", props: { alt: "picture of a misty forest", size: "xs", url: "https://unsplash.it/500/400/?image=634" }) %>
                <% end %>
                <%= pb_rails("table/table_cell", props: { text: "Value 2" }) %>
                <%= pb_rails("table/table_cell", props: { text: "Value 3" }) %>
                <%= pb_rails("table/table_cell", props: { text: "Value 4" }) %>
                <%= pb_rails("table/table_cell", props: { text: "Value 5" }) %>
            <% end %>
        <% end %>
    <% end %>
<% end %>