
<%= pb_rails("flex") do %>
  <%= pb_rails("flex/flex_item", props: {fixed_size: "250px"}) do %>
    <%= pb_rails("select", props: {
    id: "transition-dropdown",
    label: "",
    blank_selection: "Select a Transition...",
    options: [
        {
          value: 'fade',
          text: 'fade',
        },
        {
          value: 'blur',
          text: 'blur',
        },
        {
          value: 'scale',
          text: 'scale',
        },
    ]
    }) %>
  <% end %>
<% end %>
<br/>
<%= pb_rails("image",  props: { classname: "transition-image", alt: "picture of a misty forest", url: "https://unsplash.it/500/400/?image=634" }) %>



<script>
  const updateTransition = (transition) => {
    const imageTransition = document.querySelector('.transition-image');
    imageTransition.classList.remove("fade", "blur", "scale", "lazyloaded")
    imageTransition.classList.add(transition, "lazyload")
  }

  window.addEventListener('DOMContentLoaded', () => {
    const transitionDropdown = document.querySelector("#transition-dropdown")
    transitionDropdown.addEventListener('change', function() {
        const transition = this.value
        updateTransition(transition)
    });
  });
</script>