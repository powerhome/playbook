@import "../tokens/colors";
@import "../tokens/spacing";
@import "../tokens/opacity";
@import "./section_separator_mixin";

$merge_kits1: map-merge($status_colors, $category_colors);
$merge_kits2: map-merge($merge_kits1, $product_colors);
$merge_kits3: map-merge($merge_kits2, $text_colors);
$section_selector_colors: map-merge($merge_kits3, $data_colors);

$section_colors_light: (
  background:   $bg_light,
  card:         $card_light,
);

$section_colors_dark: (
  background:   $bg_dark,
  card:         tint($bg_dark,10),
);

.pb_section_separator_kit {
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  span {
    padding: 0;
    display: flex;
    .pb_caption_kit_md {
      padding: 0 $space_xs;
    }
  }
  &::before {
    content: "";
    height: 1px;
    flex: 1;
    @include section_separator_horizontal;
  }
  &::after {
    content: "";
    height: 1px;
    flex: 1;
    @include section_separator_horizontal;
  }
}

// Horizontal orientation (default)
.pb_section_separator_horizontal {
  justify-content: center;
}

// Vertical orientation
.pb_section_separator_vertical {
  margin-left: $space_xs;
  margin-right: $space_xs;
  flex-direction: column;
  &::before {
    flex: 1;
    @include section_separator_vertical(false);
  }
  &::after {
    flex: 1;
    @include section_separator_vertical(false);
  }
}

// Dashed line style
.pb_section_separator_dashed {
  &::before, &::after {
    @include section_separator_dashed(false);
  }
}

// Color variations
@each $color_name, $color_value in $section_selector_colors {
  .pb_section_separator_color_#{$color_name} {
    &::before, &::after {
      background: $color_value;
    }

    &.pb_section_separator_vertical {
      &::after {
        background: $color_value;
      }
    }
    
    &.pb_section_separator_dashed {
      &::before, &::after {
        border: 1px dashed $color_value;
        background: none;
      }
      &.pb_section_separator_vertical {
        &::before, &::after {
          border: 1px dashed $color_value;
          background: none;
        }
      }
    }
  }
}

// Dark mode styles
.pb_section_separator_kit.dark {
  &::before {
    @include section_separator_horizontal(true);
  }
  &::after {
    @include section_separator_horizontal(true);
  }
  
  &.pb_section_separator_vertical {
    &::before, &::after {
      @include section_separator_vertical(true);
    }
  }
  
  &.pb_section_separator_dashed {
    &::before, &::after {
      @include section_separator_dashed(true);
    }
    &.pb_section_separator_vertical {
      &::before, &::after {
        @include section_separator_dashed(true);
      }
    }
  }
}

// Dark mode color variations
@each $color_name, $color_value in $section_selector_colors {
  .pb_section_separator_kit.dark.pb_section_separator_color_#{$color_name} {
    &::before, &::after {
      background: $color_value;
    }

    &.pb_section_separator_vertical {
      &::before, &::after {
        @include section_separator_vertical(false);
        background: $color_value;
      }
    }

    &.pb_section_separator_dashed {
      &::before, &::after {
        border: 1px dashed $color_value;
        background: none;
      }
      &.pb_section_separator_vertical {
        &::before, &::after {
          border: 1px dashed $color_value;
          background: none;
        }
      }
    }
  }
}