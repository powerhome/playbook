<%= pb_rails("button", props: { text: "Show Closeable Auto Close Toast", variant: "secondary", data: { toast: "#toast-auto-close-closeable" } }) %>

<%= pb_rails("fixed_confirmation_toast", props: {
  auto_close: 10000,
  closeable: true,
  id: "toast-auto-close-closeable",
  text: "I will disappear in 10 seconds.",
  status: "tip",
  vertical: "top",
  horizontal: "center"
}) %>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const toast10SecCloseable = document.querySelector("#toast-auto-close-closeable")
    const button10SecCloseable = document.querySelector("button[data-toast='#toast-auto-close-closeable']")

    const originalToast = toast10SecCloseable.cloneNode(true)
    
    if (toast10SecCloseable) {
      toast10SecCloseable.remove()
    }

    if (button10SecCloseable) {
      button10SecCloseable.onclick = () => {
        const newToast = originalToast.cloneNode(true)
        newToast.style.display = "flex"
        
        document.body.appendChild(newToast)
      }
    }
  })
</script>