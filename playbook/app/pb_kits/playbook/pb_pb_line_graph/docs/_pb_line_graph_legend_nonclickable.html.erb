<% data = [{
  name: 'Number of Installations',
  data: [43934, 52503, 57177, 69658, 97031, 119931, 137133, 154175],    
  }] %>

<% categories = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug'] %>

<% chart_options = {
  series: data,
  title: { text: "Line Graph with Legend Non Clickable" },
  xAxis: {
    categories: categories,
  },
  yAxis: {
    title: {
      text: 'Number of Employees',
    },
  },
  legend: {
    enabled: true
  },
} %>

<%= pb_rails("pb_line_graph", props: {options: chart_options, id: "installations-chart"}) %>

<script>
// Prevent legend item click events from toggling series visibility
document.addEventListener('click', function (e) {
  var container = document.getElementById('installations-chart');
  if (!container) return;

  var legend = container.querySelector('.highcharts-legend');
  if (legend && legend.contains(e.target)) {
    e.stopImmediatePropagation();
    e.preventDefault();
  }
}, true); 

</script>