<%
# Define column definitions
column_definitions = [
  {
    accessor: "year",
    label: "Year",
    cellAccessors: ["quarter", "month", "day"],
  },
  {
    accessor: "newEnrollments",
    label: "New Enrollments",
  },
  {
    accessor: "scheduledMeetings",
    label: "Scheduled Meetings",
  },
  {
    accessor: "attendanceRate",
    label: "Attendance Rate",
  },
  {
    accessor: "completedClasses",
    label: "Completed Classes",
  },
  {
    accessor: "classCompletionRate",
    label: "Class Completion Rate",
  },
  {
    accessor: "graduatedStudents",
    label: "Graduated Students",
  }
]

# Define actions for the selection bar
actions = [
  pb_rails("circle_icon_button", props: {
    icon: "file-csv",
    variant: "link"
  }),
  pb_rails("circle_icon_button", props: {
    icon: "trash-alt",
    variant: "link"
  })
]
%>

<%= pb_rails("advanced_table", props: {
  id: "selectable_rows_with_actions",
  table_data: @table_data_no_subrows,
  column_definitions: column_definitions,
  selectable_rows: true,
  enable_toggle_expansion: "none",
  actions: actions,
  show_actions_bar: true
}) %>
